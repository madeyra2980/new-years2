<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .container {
      text-align: center;
    }
    header img, .footer img {
      width: 100%;
    }
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 8px;
      width: 300px;
      text-align: left;
    }
    .modal-content h2 {
      margin-top: 0;
    }
    .form-item {
      margin-top: 20px;
    }
    .close-btn, button[type="submit"] {
      background-color: #f44336;
      color: white;
      border: none;
      padding: 10px;
      margin-top: 10px;
      cursor: pointer;
    }
    .close-btn {
      background-color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="./assets/top.svg" alt="Header Top">
    </header>

    <div class="marry-christmas">
      <img src="./assets/2.png" alt="–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫">
    </div>

    <div class="title-top">
      <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –Ω–∞—à–µ–º—É –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–º—É –ø—Ä–∞–∑–¥–Ω–∏–∫—É!</p>
    </div>

    <div class="title-description">
      <p>
        –î–æ—Ä–æ–≥–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ Innovative College! –ù–æ–≤—ã–π –≥–æ–¥ —É–∂–µ –Ω–∞ –ø–æ—Ä–æ–≥–µ, –∏ –º—ã –≥–æ—Ç–æ–≤–∏–º –¥–ª—è –≤–∞—Å –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—É—é –≤–µ—á–µ—Ä–∏–Ω–∫—É! üéâ
        –¢–∞–Ω—Ü—ã, –º—É–∑—ã–∫–∞, –≤–µ—Å–µ–ª—å–µ –∏ –º–æ—Ä–µ —Å—é—Ä–ø—Ä–∏–∑–æ–≤ –∂–¥—É—Ç —Ç–µ–±—è!
      </p>
    </div>

    <div class="title-item">
      <div class="title-time-description">
        <h1>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</h1>
        <p>19 –¥–µ–∫–∞–±—Ä—è</p>
      </div>
      <div class="title-location-description">
        <h1>–ú–µ—Å—Ç–æ:</h1>
        <p>–ì–ª–∏–Ω–∫–∏ 40</p>
        <h1>–í—Ä–µ–º—è:</h1>
        <p>15:00</p>
      </div>
    </div>

    <div class="form-item">
      <h1>–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é —Ä–æ–ª—å:</h1>
      <form id="role-form">
        <label>
          <input type="radio" name="role" value="student"> –°—Ç—É–¥–µ–Ω—Ç
        </label>
        <label>
          <input type="radio" name="role" value="teacher"> –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
        </label>
        <label>
          <input type="radio" name="role" value="other"> –î—Ä—É–≥–æ–µ
        </label>
      </form>
    </div>

    <div class="footer">
      <img src="./assets/3.png" alt="footer">
    </div>
  </div>

  <div id="modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <h2 id="role-title"></h2>
      <form id="modal-form">
        <label>
          –ò–º—è:
          <input type="text" name="firstName" required>
        </label>
        <label>
          –§–∞–º–∏–ª–∏—è:
          <input type="text" name="lastName" required>
        </label>
        <label id="group-or-position-label">
          –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã/–¥–æ–ª–∂–Ω–æ—Å—Ç—å:
          <input type="text" name="groupOrPosition" required>
        </label>
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </form>
      <button class="close-btn" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script>
    const TELEGRAM_BOT_TOKEN = '7964767216:AAExtiz5JR-H40tbQzP3G6LETUznlzqip3A';
    const TELEGRAM_CHAT_ID = '7449665353';
    const modal = document.getElementById('modal');
    const roleTitle = document.getElementById('role-title');
    const groupOrPositionLabel = document.getElementById('group-or-position-label');
    let selectedRole = '';

    document.getElementById('role-form').addEventListener('change', (event) => {
      selectedRole = event.target.value;
      roleTitle.textContent = `–í—ã –≤—ã–±—Ä–∞–ª–∏ —Ä–æ–ª—å: ${selectedRole === 'student' ? '–°—Ç—É–¥–µ–Ω—Ç' : selectedRole === 'teacher' ? '–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å' : '–î—Ä—É–≥–æ–µ'}`;
      groupOrPositionLabel.textContent = selectedRole === 'student' ? '–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã:' : '–î–æ–ª–∂–Ω–æ—Å—Ç—å:';
      modal.style.display = 'flex';
    });

    document.getElementById('modal-form').addEventListener('submit', async (event) => {
      event.preventDefault();
      const formData = new FormData(event.target);
      const firstName = formData.get('firstName');
      const lastName = formData.get('lastName');
      const groupOrPosition = formData.get('groupOrPosition');
      
      const message = selectedRole === 'student'
        ? `üë®‚Äçüéì –°—Ç—É–¥–µ–Ω—Ç\n–ò–º—è: ${firstName}\n–§–∞–º–∏–ª–∏—è: ${lastName}\n–ì—Ä—É–ø–ø–∞: ${groupOrPosition}`
        : selectedRole === 'teacher'
        ? `üë©‚Äçüè´ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å\n–ò–º—è: ${firstName}\n–§–∞–º–∏–ª–∏—è: ${lastName}\n–î–æ–ª–∂–Ω–æ—Å—Ç—å: ${groupOrPosition}`
        : `üë§ –î—Ä—É–≥–æ–µ\n–ò–º—è: ${firstName}\n–§–∞–º–∏–ª–∏—è: ${lastName}\n–î–æ–ª–∂–Ω–æ—Å—Ç—å: ${groupOrPosition}`;

      try {
        await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message }),
        });
        alert('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ Telegram!');
      } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ Telegram:', error);
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Telegram.');
      }
      closeModal();
    });

    function closeModal() {
      modal.style.display = 'none';
      selectedRole = '';
    }
  </script>
</body>
</html>
